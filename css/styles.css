/* ===== Base ===== */
* { box-sizing: border-box; }

:root{
  /* Paleta base */
  --bg:#86f36c;
  --panel: rgba(255,255,255,.35);
  --ink:#0b1a10;
  --muted:#16351f;
  --accent:#0f8a3a;
  --card: rgba(255,255,255,.40);

  /* Gamer / Tech */
  --neon1:#00ffb3;
  --neon2:#7c3cff;
  --neon3:#00c2ff;
  --dark:#07121e;
  --glass: rgba(255,255,255,.10);
}

html,body{height:100%}

body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

  /* Fondo tech animado */
  background:
    radial-gradient(1200px 800px at 10% 10%, rgba(124,60,255,.22), transparent 55%),
    radial-gradient(1000px 700px at 90% 20%, rgba(0,255,179,.18), transparent 55%),
    radial-gradient(900px 650px at 50% 90%, rgba(0,194,255,.16), transparent 55%),
    linear-gradient(180deg, #0a1a2b, #06111b);

  color: rgba(255,255,255,.92);
  display:grid;
  grid-template-rows:auto 1fr auto; /* topbar, contenido, footer */
  min-height:100vh;
  overflow-x:hidden;
}

/* ===== Topbar ===== */
.topbar{
  max-width:980px;
  width:100%;
  margin:12px auto;
  padding:10px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;

  border-radius:16px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 18px 48px rgba(0,0,0,.45);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.topbar h1{
  margin:0;
  font-size:22px;
  letter-spacing:1.6px;
  color: rgba(255,255,255,.95);
  text-shadow: 0 0 18px rgba(0,255,179,.18);
}

/* Acciones (botones) */
.actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
button{
  background: linear-gradient(90deg, rgba(0,255,179,.95), rgba(124,60,255,.95));
  color: #f5fff6;
  border: 1px solid rgba(255,255,255,.18);
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
  box-shadow:
    0 10px 26px rgba(0,0,0,.35),
    0 0 20px rgba(0,255,179,.12);
  transform: translateZ(0);
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
}
button:hover{
  transform: translateY(-1px) scale(1.02);
  filter: brightness(1.05);
  box-shadow:
    0 14px 32px rgba(0,0,0,.45),
    0 0 28px rgba(124,60,255,.18);
}
button:active{ transform: translateY(0) scale(.99); }

/* ===== Layout principal ===== */
.play-area{
  max-width:980px;
  width:100%;
  margin:0 auto 16px;
  display:grid;
  /* IMPORTANTE: el frame ahora mide 620 (600 canvas + padding 10+10) */
  grid-template-columns: 620px minmax(240px, 1fr);
  gap:18px;
  align-items:start;
}

/* Canvas enmarcado */
.frame{
  position:relative;
  width:620px;
  height:620px;
  border-radius:14px;
  padding:10px;

  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow:
    0 18px 60px rgba(0,0,0,.55),
    0 0 40px rgba(0,194,255,.10);

  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  overflow:hidden;
}

/* Glow giratorio */
.frame::before{
  content:"";
  position:absolute; inset:-80px;
  background: conic-gradient(from 0deg,
    rgba(0,255,179,.0),
    rgba(0,255,179,.18),
    rgba(124,60,255,.18),
    rgba(0,194,255,.18),
    rgba(0,255,179,.0)
  );
  animation: spinGlow 8s linear infinite;
  filter: blur(26px);
  opacity:.9;
}
.frame > *{ position:relative; z-index:1; }

@keyframes spinGlow { to { transform: rotate(360deg); } }

/* Canvas principal (fondo lo dibuja JS) */
#game{
  width:600px;
  height:600px;
  border-radius:12px;
  background: transparent;
  display:block;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.10);
}

/* Capa decorativa encima (texto/overlay ligero) */
.gridTint{
  position:absolute;
  left:10px;
  top:10px;
  width:600px;
  height:600px;
  border-radius:12px;
  pointer-events:none;
  opacity:1;
  mix-blend-mode: normal;
  display:block;
}

/* ===== Sidebar ===== */
.sidebar{
  background: rgba(255,255,255,.08);
  border-radius:14px;
  padding:14px;
  box-shadow: 0 18px 48px rgba(0,0,0,.45);
  border: 1px solid rgba(255,255,255,.10);

  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.live{
  display:grid;
  gap:6px;
  font-size:14px;
}
.live .k{
  color: rgba(255,255,255,.80);
  opacity:.95;
  margin-right:4px;
}

.help-right{
  color: rgba(255,255,255,.80);
  font-size:14px;
}
.help-right h2{
  margin:12px 0 8px;
  font-size:16px;
  color: rgba(255,255,255,.92);
}
.help-right ul{ margin:0; padding-left:18px; }
.help-right li{ margin:6px 0; }

hr{
  border:0;
  height:1px;
  background: rgba(255,255,255,.10);
  margin:12px 0;
}

/* ===== Overlay (pausa/game over/start screen) ===== */
.overlay.hidden{ display:none; }

.overlay{
  position:fixed;
  inset:0;
  background:
    radial-gradient(900px 600px at 50% 30%, rgba(124,60,255,.22), rgba(0,0,0,.65)),
    rgba(0,0,0,.55);
  display:grid;
  place-items:center;
  z-index:10;
}

.modal{
  background: rgba(10, 20, 32, .78);
  padding:20px;
  border-radius:12px;
  width: min(480px, 92vw);
  text-align:center;
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 26px 80px rgba(0,0,0,.65);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.modal h2{
  margin-top:0;
  color: rgba(255,255,255,.95);
  text-shadow: 0 0 22px rgba(0,255,179,.16);
}
.modal p{ color: rgba(255,255,255,.82); }

/* ===== Footer ===== */
.footer{
  width:100%;
  border-top:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.75);
  font-size:14px;
}
.footer p{
  max-width:980px;
  margin:10px auto;
  padding:10px 14px;
}
.btnLink{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  background: linear-gradient(90deg, rgba(0,255,179,.95), rgba(124,60,255,.95));
  color:#f5fff6;
  border:1px solid rgba(255,255,255,.18);
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
  box-shadow:
    0 10px 26px rgba(0,0,0,.35),
    0 0 20px rgba(0,255,179,.12);
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
}
.btnLink:hover{
  transform: translateY(-1px) scale(1.02);
  filter: brightness(1.05);
  box-shadow:
    0 14px 32px rgba(0,0,0,.45),
    0 0 28px rgba(124,60,255,.18);
}
.btnLink:active{ transform: translateY(0) scale(.99); }

/* ===== Responsivo ===== */
@media (max-width: 980px){
  .play-area{
    grid-template-columns: 1fr;
    justify-items:center;
  }
  .frame{ margin:0 auto; }
  .sidebar{ width: min(620px, 92vw); }
}

/* Un poco más compacto en móviles */
@media (max-width: 700px){
  .frame{
    width: calc(92vw + 20px);
    height: calc(92vw + 20px);
  }
  #game{
    width:92vw;
    height:92vw;
    max-width:600px;
    max-height:600px;
  }
  .gridTint{
    width:92vw;
    height:92vw;
    max-width:600px;
    max-height:600px;
  }
}